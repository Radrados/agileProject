<!-- _postsrendering.html -->
{% for post in posts %}
<div class="post card mb-4 shadow-sm">
    <div class="card-body">
        <!-- Post Title with Link -->
        <h1 class="card-title">
            <a href="{{ url_for('post', post_id=post.id) }}">{{ post.title }}</a>
        </h1>
        <!-- Post Body -->
        <p class="card-text">{{ post.body }}</p>
        <!-- Post Author and Timestamp -->
        <small class="text-muted">Posted by {{ post.author.username }} on {{ post.timestamp.strftime('%Y-%m-%d %H:%M:%S') }}</small>
        <!-- Display Upvote Count and Buttons -->
        <p>{{ post.upvotes }} upvotes</p>
        <form action="{{ url_for('upvote', post_id=post.id) }}" method="post" style="display: inline;">
            <button type="submit" class="btn btn-success btn-sm">Upvote</button>
        </form>
        <form action="{{ url_for('unupvote', post_id=post.id) }}" method="post" style="display: inline;">
            <button type="submit" class="btn btn-danger btn-sm">Un-upvote</button>
        </form>
        <!-- Display tags associated with the post -->
        <p>Tags:
        {% for tag in post.tags %}
        <a href="{{ url_for('tag', tag_name=tag.name) }}">{{ tag.name }}</a>
        {% if not loop.last %}, {% endif %}
        {% endfor %}
        </p>
    </div>
</div>
{% else %}
<div class="alert alert-light" role="alert">No posts to show.</div>
{% endfor %}

